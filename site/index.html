<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Maven SVN Revision Number Plugin - Introduction</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
      </head>
  <body class="composite">
    <div id="banner">
                    <span id="bannerLeft">
    
            Maven SVN Revision Number Plugin
    
            </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
            
  
    
              <div class="xright">      
  

  
    
            
  
    
             Last Published: 2009-11-12
              &nbsp;| Version: 1.1
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
            
  
    
                   <h5>Overview</h5>
            <ul>
              
    <li class="none">
              <strong>Introduction</strong>
        </li>
              
    <li class="none">
                    <a href="plugin-info.html">Goals</a>
          </li>
          </ul>
              <h5>Project Documentation</h5>
            <ul>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="project-info.html">Project Information</a>
                </li>
              
                
              
      
              
        <li class="collapsed">
                    <a href="project-reports.html">Project Reports</a>
                </li>
          </ul>
                                           <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
            <img alt="Built by Maven" src="./images/logos/maven-feather.png"></img>
          </a>
                       
  

  
    
            
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Maven SVN Revision Number Plugin</h2>
<p>This plugin retrieves the status and revision number of the Subversion working copy directory.</p>
<p>The <a href="http://svnkit.com/" class="externalLink">SVNKit</a> library is used for all Subversion-related operations.</p>
<div class="section"><h3>Goals Overview</h3>
<ul><li><a href="revision-mojo.html">maven-svn-revision-number-plugin:release</a> Retrieves the status and revision number of the subversion working copy directory.</li>
</ul>
</div>
<div class="section"><h3>Using the plugin</h3>
<p>This example shows the preferred way of using the plugin. The <tt>revision</tt> goal is bound to the <tt>initialize</tt> phase by default, which allows to use its output properties in the subsequent phases, for example during the resource filtering.</p>
<div class="source"><pre>&lt;project&gt;
    ...
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;com.google.code.maven-svn-revision-number-plugin&lt;/groupId&gt;
                &lt;artifactId&gt;maven-svn-revision-number-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.1&lt;/version&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;revision&lt;/goal&gt;
                        &lt;/goals&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    ...
&lt;/project&gt;</pre>
</div>
</div>
<div class="section"><h3>Configuring the working copy directory location</h3>
<p>The location of the working copy directory is configured via <tt>${workingCopyDirectory}</tt> property. The default value is the project's <tt>${basedir}</tt>.</p>
</div>
<div class="section"><h3>Output properties</h3>
<p>The following properties will be available after running the <tt>revision</tt> goal:</p>
<ul><li><tt>${workingCopyDirectory.repository}</tt> (the property name can be configured via <tt>${repositoryPropertyName}</tt>) will contain the remote repository root.</li>
<li><tt>${workingCopyDirectory.path}</tt> (the property name can be configured via <tt>${pathPropertyName}</tt>) will contain the path of the path of the working copy directory entry relative to the root of the remote repository.</li>
<li><tt>${workingCopyDirectory.revision}</tt> (the property name can be configured via <tt>${revisionPropertyName}</tt>) will be set to the aggregated status and revision number of the working copy directory.</li>
</ul>
<p>If the supplied directory is not under version control then <tt>${workingCopyDirectory.repository}</tt> and <tt>${workingCopyDirectory.path}</tt> will be empty strings and <tt>${workingCopyDirectory.revision}</tt> will be set to <tt>&quot;unversioned&quot;</tt>.</p>
</div>
<div class="section"><h3>Decoding <tt>${workingCopyDirectory.revision}</tt> property value</h3>
<p>Depending on the state of the working copy directory the revision property will be set to one of the following values:</p>
<ul><li><tt>&quot;unversioned&quot;</tt> - the directory is not under version control.</li>
<li><tt>&quot;rNNN&quot;</tt> - the working copy is up-to-date and has no local modifications.<br />
The <tt>NNN</tt> is the working copy revision number.</li>
<li><tt>&quot;rNNN-rMMM&quot;</tt> - the reporting of mixed revisions is on and the working copy contains <a href="http://svnbook.red-bean.com/nightly/en/svn.basic.in-action.html#svn.basic.in-action.mixedrevs" class="externalLink">mixed revisions</a> but otherwise has no local modifications.<br />
The <tt>NNN</tt> is the maximum revision number and <tt>MMM</tt> is the minimum revision number in the working copy.<br />
The reporting of mixed revisions is on by default.</li>
</ul>
<p>If reporting of working copy status is on and the working copy directory has uncommitted local modifications or is out-of-date, then an additional status information is appended to the <tt>&quot;rNNN&quot;</tt> or <tt>&quot;rNNN-rMMM&quot;</tt> value specified above in the form of <tt>&quot;rNNN SSS&quot;</tt> or <tt>&quot;rNNN-rMMM SSS&quot;</tt>, where <tt>SSS</tt> consists of one or more of the following characters:</p>
<ul><li><tt>'M'</tt> - some item in the working copy has local modifications.</li>
<li><tt>'A'</tt> - some item in the working copy is scheduled for addition to the repository.</li>
<li><tt>'D'</tt> - some item in the working copy is scheduled for deletion from the repository.</li>
<li><tt>'?'</tt> - the reporting of unversioned items is on and the working copy contains unversioned items.<br />
The reporting of unversioned items is on by default.</li>
<li><tt>'!'</tt> - either some items in the working copy are missing (the most common case is deleting the file or directory without using svn) or some directory is incomplete (a checkout or update operation was interrupted).</li>
<li><tt>'R'</tt> - some item in the working copy was replaced (it was scheduled for deletion, and then a new item with the same name was scheduled for addition).</li>
<li><tt>'C'</tt> - the contents or properties of some item conflict with updates received from the repository.</li>
<li><tt>'~'</tt> - some item in the working copy is obstructed (it is versioned as a file or a directory but has been replaced by a directory or a file respectively).</li>
<li><tt>'I'</tt> - the reporting of ignored items is on and the working copy contains ignored items.<br />
The reporting of ignored items is off by default.</li>
<li><tt>'X'</tt> - some item in the working copy is present because of an externals definition.</li>
<li><tt>'*'</tt> - the reporting of out-of-date items is on and a newer revision of some item exists in the repository.<br />
The reporting of out-of-date items is off by default.</li>
</ul>
<p>The status characters are consistent with the output of the <a href="http://svnbook.red-bean.com/nightly/en/svn.ref.svn.c.status.html" class="externalLink">svn status</a> command.</p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2009
    
          
  

  
    
            
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
