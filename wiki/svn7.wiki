#summary Support for working copies in the svn-1.7 format.
#labels Featured

= SVN 1.7 Support =

This plugin uses the SVNKit library (http://svnkit.com) for all subversion-related operations. TMate Software, the creators of the SVNKit, released the new version of the SVNKit with is compatible with the new Subversion 1.7 working copy format.

The SVNKit 1.7+ is available from the TMate Software repository at http://maven.tmatesoft.com/content/repositories/releases/. Until it is also available from the Maven Central, there are two options that allow to use the revision number plugin with working copies in the Subversion 1.7 format:
 # force the plugin (the latest "official" release google.code.maven-svn-revision-number-plugin:maven-svn-revision-number-plugin:1.7) to depend on the svnkit:1.7+ and configure additional repositories (from TMate Software) where svnkit artifacts will be searched. The plugin itself will be resolved from the Maven Central.
 # switch to the new version of the plugin (google.code.maven-svn-revision-number-plugin:svn-revision-number-maven-plugin:1.9-SVN7) and configure additional repositories (from me, located inside the same svn as the plugin source code) where this "new" plugin version will be searched.

Both options require the configuration of additional repositories and both options result in the same behaviour: the plugin will be able to retreive the revision and statis information from both SVN 1.6 and SVN 1.7 working copies.


= "Old" plugin + svnkit:1.7+ =

The plugin declaration should be modified with additional forced dependency:
{{{
<plugin>
    <groupId>com.google.code.maven-svn-revision-number-plugin</groupId>
    <artifactId>maven-svn-revision-number-plugin</artifactId>
    <version>1.7</version>
    <executions>
        ...
    </executions>
    <configuration>
        ...
    </configuration>
    <!-- forcing svnkit:1.7+ -->
    <dependencies>
        <dependency>
            <groupId>org.tmatesoft.svnkit</groupId>
            <artifactId>svnkit</artifactId>
            <version>1.7.4</version> <!-- please check for the latest version -->
        </dependency>
    </dependencies>
</plugin>
}}}

The pom should be modified with additional repository declarations:
{{{
<repositories>
    <repository>
        <id>tmatesoft-releases</id>
        <url>http://maven.tmatesoft.com/content/repositories/releases/</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>false</enabled>
        </snapshots>
    </repository>
</repositories>
<pluginRepositories>
    <pluginRepository>
        <id>tmatesoft-releases</id>
        <url>http://maven.tmatesoft.com/content/repositories/releases/</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>false</enabled>
        </snapshots>
    </pluginRepository>
</pluginRepositories>
}}}

= "New" plugin =
There is a new semi-official plugin version that already depends on svnkit:1.7+ and hereby is compatible with svn-1.7 working copies. The plugin's artifact is available from the http://maven-svn-revision-number-plugin.googlecode.com/svn/m2/releases repository with is located inside the same subversion repository at the plugin's source.

By unfortunate coincidence that version has another major change besides the svnkit version - the artifactId has changed to conform to Apache/Maven guidelines.

The plugin declaration:
{{{
<plugin>
    <groupId>com.google.code.maven-svn-revision-number-plugin</groupId>
    <artifactId>svn-revision-number-maven-plugin</artifactId> <!-- artifactId has changed! -->
    <version>1.10-SVN7</version> <!-- the version has explicit svn-1.7-related suffix for now -->
    <executions>
        ...
    </executions>
    <configuration>
        ...
    </configuration>
</plugin>
}}}

The repository declaration:
{{{
<pluginRepositories>
    <pluginRepository>
        <id>maven-svn-revision-number-plugin.googlecode.com</id>
        <url>http://maven-svn-revision-number-plugin.googlecode.com/svn/m2/releases</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>false</enabled>
        </snapshots>
    </pluginRepository>
</pluginRepositories>
}}}